{"version":3,"sources":["scripts/components/UserHeader/index.js","scripts/mobx/Shoporder.js","scripts/components/Usermain/index.js","scripts/views/order/index.js"],"names":["UserHeader","handleClick","history","push","handleLogout","userInfo","localStorage","sessionStorage","token","className","onClick","this","Component","observable","action","url","a","async","axios","get","res","orderList","data","result","mobile","id","console","log","post","then","filter","item","Shoporder","tabs","title","Usermain","observer","delSeletOrder","props","initialPage","animated","useOnPan","tabBarUnderlineStyle","borderColor","tabBarInactiveTextColor","tabBarActiveTextColor","style","display","flexDirection","height","marginBottom","length","map","i","index","productdetail","key","detail","products","name","count","quantity","slice","alt","src","totalprice","toFixed","validityPeriod","Order","getorderList"],"mappings":"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","file":"static/js/17.11f828cb.chunk.js","sourcesContent":["\r\nimport \"./index.scss\"\r\nimport React, { Component } from \"react\";\r\nimport { history } from \"&\"\r\n\r\n\r\nclass UserHeader extends Component {\r\n\r\n    handleClick = () => {\r\n        history.push(\"/main/home\")\r\n    }\r\n\r\n    handleLogout = () => {\r\n        history.push(\"/login\")\r\n        let userInfo = localStorage.userInfo;\r\n        if (userInfo) {\r\n            userInfo = \"\";\r\n        }\r\n        sessionStorage.token = \"\"\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <header className=\"userHeader\">\r\n                <div className=\"userHeader__back\" onClick={this.handleClick}>\r\n                    首页\r\n        </div>\r\n                <div className=\"userHeader__list\">\r\n                    <span className=\"userHeader__item userHeader__item--selected\">\r\n                        订单\r\n          </span>\r\n                    <span className=\"userHeader__item\">抵用券</span>\r\n                </div>\r\n                <div className=\"userHeader__right\" onClick={this.handleLogout}>\r\n                    注销\r\n        </div>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserHeader;\r\n","import { observable, action } from \"mobx\"\r\nimport { axios } from \"&\"\r\n\r\n\r\n\r\nclass Shoporder {\r\n    @observable orderList = []; //订单数据\r\n\r\n    @action getorderList = async (url) => {\r\n        const res = await axios.get(url);\r\n        this.orderList = res.data.result;\r\n    }\r\n\r\n    @action delSeletOrder = (url, mobile, id) => {\r\n        console.log(mobile, id)\r\n        axios.post(url, {\r\n            mobile,\r\n            id\r\n        }).then(res => {\r\n            this.orderList = this.orderList.filter(item=>!item.id);\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default new Shoporder()","\r\nimport \"./index.scss\"\r\nimport React, { Component } from 'react';\r\nimport { Tabs, WhiteSpace } from 'antd-mobile';\r\n// import { axios } from \"&\"\r\n\r\nimport Shoporder from \"~/mobx/Shoporder\"\r\nimport { observer } from \"mobx-react\"\r\n\r\nconsole.log(Shoporder)\r\n\r\n\r\nconst tabs = [\r\n    { title: '全部订单' },\r\n    { title: '待付款' },\r\n    { title: '可使用' },\r\n    { title: '退款/售后' },\r\n];\r\n\r\n@observer\r\nclass Usermain extends Component {\r\n\r\n    // delSelectOrder = (mobile, _id) => {\r\n    //     console.log(_id)\r\n    //     console.log(mobile)\r\n    //     axios.post(\"/react/delSelectOrder\", {\r\n    //         _id,\r\n    //         mobile\r\n    //     }).then(res => {\r\n\r\n    //     })\r\n    // }\r\n\r\n    delSeletOrder = (mobile, id) => {\r\n        // console.log(mobile,id)\r\n        Shoporder.delSeletOrder(\"/react/delSelectOrder\", mobile, id)\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        let {\r\n            orderList\r\n        } = this.props\r\n        // console.log(orderList)\r\n\r\n        return (\r\n            <div>\r\n                <WhiteSpace />\r\n                <Tabs tabs={tabs} initialPage={0} animated={false} useOnPan={false} tabBarUnderlineStyle={{ borderColor: \"#f63\" }} tabBarInactiveTextColor=\"#333\" tabBarActiveTextColor=\"#f63\">\r\n                    <div style={{ display: 'flex', flexDirection: \"column\", height: 'auto', marginBottom: 50 }}>\r\n\r\n                        <div className=\"userMain__empty\" style={{ display: orderList.length > 0 ? 'none' : 'block' }}>\r\n                            <div className=\"userMain__emptyIcon\" />\r\n                            <div className=\"userMain__emptyText1\">您还没有相关订单</div>\r\n                            <div className=\"userMain__emptyText2\">去逛逛看有哪些想买的</div>\r\n                        </div>\r\n                        {\r\n                            orderList.length > 0 && orderList.map((i, index) => {\r\n                                return (\r\n                                    i.productdetail && <div className=\"orderItem\" key={index} id={i.id} mobile={i.mobile} >\r\n                                        <div className=\"orderItem__title\">\r\n                                            <span>{i.productdetail.detail.products[0].name + i.count + i.productdetail.detail.products[0].quantity.slice(1)}</span>\r\n                                        </div>\r\n                                        <div className=\"orderItem__main\">\r\n                                            <div className=\"orderItem__imgWrapper\">\r\n                                                <div className=\"orderItem__tag\">待付款</div>\r\n                                                <img alt=\"\" className=\"orderItem__img\" src=\"https://p1.meituan.net/180.132/deal/3490991e3dbeacb25f4b8cc1fb0587d7249290.jpg.webp@700w_700h_1e_1c_1l%7Cwatermark=1&&r=1&p=9&x=2&y=2&relative=1&o=20\" />\r\n                                            </div>\r\n                                            <div className=\"orderItem__content\">\r\n                                                <div className=\"orderItem__line\">{i.count + i.productdetail.detail.products[0].quantity.slice(1)} | 总价 ¥{(i.totalprice * 1).toFixed(1)}</div>\r\n                                                <div className=\"orderItem__line\">有效期: {i.productdetail.validityPeriod}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"orderItem__bottom\">\r\n                                            <div className=\"orderItem__type\">团购</div>\r\n                                            <div>\r\n                                                <div className=\"orderItem__btn\" onClick={() => this.delSeletOrder(i.mobile, i.id)} >删除</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div style={{ display: 'flex', flexDirection: \"column\", height: 'auto', marginBottom: 50 }}>\r\n                        <div className=\"userMain__empty\" style={{ display: orderList.length > 0 ? 'none' : 'block' }}>\r\n                            <div className=\"userMain__emptyIcon\" />\r\n                            <div className=\"userMain__emptyText1\">您还没有相关订单</div>\r\n                            <div className=\"userMain__emptyText2\">去逛逛看有哪些想买的</div>\r\n                        </div>\r\n                        {\r\n                            orderList.length > 0 && orderList.map((i, index) => {\r\n                                return (\r\n                                    i.productdetail && <div className=\"orderItem\" key={index} id={i.id} mobile={i.mobile} >\r\n                                        <div className=\"orderItem__title\">\r\n                                            <span>{i.productdetail.detail.products[0].name + i.count + i.productdetail.detail.products[0].quantity.slice(1)}</span>\r\n                                        </div>\r\n                                        <div className=\"orderItem__main\">\r\n                                            <div className=\"orderItem__imgWrapper\">\r\n                                                <div className=\"orderItem__tag\">待付款</div>\r\n                                                <img alt=\"\" className=\"orderItem__img\" src=\"https://p1.meituan.net/180.132/deal/3490991e3dbeacb25f4b8cc1fb0587d7249290.jpg.webp@700w_700h_1e_1c_1l%7Cwatermark=1&&r=1&p=9&x=2&y=2&relative=1&o=20\" />\r\n                                            </div>\r\n                                            <div className=\"orderItem__content\">\r\n                                                <div className=\"orderItem__line\">{i.count + i.productdetail.detail.products[0].quantity.slice(1)} | 总价 ¥{(i.totalprice * 1).toFixed(1)}</div>\r\n                                                <div className=\"orderItem__line\">有效期: {i.productdetail.validityPeriod}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"orderItem__bottom\">\r\n                                            <div className=\"orderItem__type\">团购</div>\r\n                                            <div>\r\n                                                <div className=\"orderItem__btn\" onClick={() => this.delSeletOrder(i.mobile, i.id)} >删除</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div style={{ display: 'flex', flexDirection: \"column\", height: 'auto', marginBottom: 50 }}>\r\n                        <div className=\"userMain__empty\" style={{ display: orderList.length > 0 ? 'none' : 'block' }}>\r\n                            <div className=\"userMain__emptyIcon\" />\r\n                            <div className=\"userMain__emptyText1\">您还没有相关订单</div>\r\n                            <div className=\"userMain__emptyText2\">去逛逛看有哪些想买的</div>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ display: 'flex', flexDirection: \"column\", height: 'auto', marginBottom: 50 }}>\r\n                        <div className=\"userMain__empty\" style={{ display: orderList.length > 0 ? 'none' : 'block' }}>\r\n                            <div className=\"userMain__emptyIcon\" />\r\n                            <div className=\"userMain__emptyText1\">您还没有相关订单</div>\r\n                            <div className=\"userMain__emptyText2\">去逛逛看有哪些想买的</div>\r\n                        </div>\r\n                    </div>\r\n                </Tabs>\r\n                <WhiteSpace />\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Usermain;","import \"./index.scss\"\r\nimport React, { Component } from \"react\"\r\nimport UserHeader from \"~/components/UserHeader\"\r\nimport Usermain from \"~/components/Usermain\"\r\nimport Shoporder from \"~/mobx/Shoporder\"\r\nimport { observer } from \"mobx-react\"\r\n\r\nconsole.log(Shoporder)\r\n\r\n\r\n@observer\r\nclass Order extends Component {\r\n    componentDidMount() {\r\n        if (!!sessionStorage.token) {\r\n            Shoporder.getorderList(\"/react/getOrderList\")\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n        const {\r\n            orderList\r\n        } = Shoporder\r\n        console.log(orderList)\r\n        return (\r\n            <div>\r\n                <UserHeader />\r\n                <Usermain orderList={orderList}   />\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Order"],"sourceRoot":""}