{"version":3,"sources":["scripts/components/Afoot/index.js","scripts/views/main/index.js","utils/msg.js","utils/axios.js","utils/index.js"],"names":["foots","txt","path","name","icon","Afoot","props","state","selectedTab","hash","window","location","console","log","tab","split","this","setState","className","unselectedTintColor","tintColor","barTintColor","map","foot","i","Item","title","key","style","width","height","display","selectedIcon","selected","badge","length","onPress","history","push","data-seed","Component","contextTypes","PropTypes","object","Main","component","LazyLoad","render","to","People","names","age","hobby","score","baseURL","token","fail","msg","hide","success","axios","defaults","headers","common","post","interceptors","request","use","config","time","loading","sessionStorage","error","offline","Promise","reject","response","data","code","type","createHashHistory"],"mappings":"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","file":"static/js/18.eb15d598.chunk.js","sourcesContent":["import \"./index.scss\"\r\nimport React, { Component } from \"react\";\r\n\r\n\r\nimport {\r\n    TabBar\r\n} from \"antd-mobile\"\r\n\r\nimport PropTypes from \"prop-types\"\r\nimport { history } from \"&\";\r\n\r\nconst foots = [\r\n    { txt: \"首页\", path: \"/main/home\", name: \"home\", icon: \"icon-shouye\" },\r\n    { txt: \"订单\", path: \"/main/order\", name: \"order\", icon: \"icon-icon-\" },\r\n    { txt: \"我的\", path: \"/main/mine\", name: \"mine\", icon: \"icon-wode\" }\r\n]\r\n\r\nexport class Afoot extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedTab: 'home',\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        //如何做刷新高亮\r\n        var hash = window.location.hash;     //this.props.location    或者    context.location\r\n        console.log(hash)\r\n        var tab = hash.split(\"#/main/\")[1];\r\n        this.setState({\r\n            selectedTab: tab\r\n        })\r\n    }\r\n    render() {\r\n        console.log(this);\r\n        return (\r\n            <div className=\"footer\">\r\n                <TabBar\r\n                    unselectedTintColor=\"#949494\"\r\n                    tintColor=\"#ed5f34\"\r\n                    barTintColor=\"white\"\r\n\r\n                >\r\n                    {\r\n                        foots.map((foot, i) => {\r\n                            return (\r\n                                <TabBar.Item\r\n                                    title={foot.txt}\r\n                                    key={i}\r\n                                    icon={<i style={{\r\n                                        width: '22px',\r\n                                        height: '22px',\r\n                                        display: 'inline-block'\r\n                                    }}\r\n                                        className={\"iconfont \" + foot.icon}\r\n                                    />\r\n                                    }\r\n                                    selectedIcon={<div style={{\r\n                                        width: '22px',\r\n                                        height: '22px',\r\n                                        display: 'inline-block'\r\n                                    }}\r\n                                        className={\"iconfont \" + foot.icon}\r\n                                    />\r\n                                    }\r\n                                    selected={this.state.selectedTab == foot.name}\r\n                                    badge={i == foots.length - 2 && 2}\r\n                                    onPress={() => {\r\n                                        this.setState({\r\n                                            selectedTab: foot.name,\r\n                                        });\r\n                                        // this.props.history.push(foot.path);\r\n                                        // this.context.history.push(foot.path);\r\n                                        history.push(foot.path);\r\n                                    }}\r\n                                    data-seed=\"logId\"\r\n                                >\r\n\r\n                                </TabBar.Item>\r\n                            )\r\n                        })\r\n                    }\r\n                </TabBar>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\nAfoot.contextTypes = {\r\n    history: PropTypes.object\r\n}\r\n\r\n\r\n\r\n\r\n","import \"./index.scss\"\r\nimport React, { Component } from \"react\"\r\nimport {\r\n    Switch,\r\n    Route,\r\n    Redirect\r\n} from \"react-router-dom\";\r\n\r\nimport LazyLoad from \"&/lazyload\";\r\n\r\nimport { Afoot } from \"~/components/Afoot\"\r\n\r\n\r\n//嵌套路由\r\nexport default class Main extends Component {\r\n\r\n    render() {\r\n        console.log(this.props)\r\n        return (\r\n            <div className=\"box\">\r\n                <Switch>\r\n                    <Route path=\"/main/home\" component={LazyLoad(() => import(\"../home\"))} />\r\n                    <Route path=\"/main/order\" component={LazyLoad(() => import(\"../order\"))} />\r\n                    <Route path=\"/main/mine\" component={LazyLoad(() => import(\"../mine\"))} />\r\n                    <Route render={() => (<Redirect to=\"/main/home\" />)} />\r\n                </Switch>\r\n                <Afoot {...this.props} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","\r\n\r\n\r\nexport const msg = \"Are you Ok?\";\r\n\r\n\r\n// 构造函数  (构造器 + 原型对象 + 静态对象 )\r\nexport class People{\r\n\r\n    constructor(names,age){\r\n        this.names = names;\r\n        this.age = age;\r\n    }\r\n\r\n    // 原型对象\r\n    say(){\r\n\r\n    }\r\n\r\n    todo(){\r\n\r\n    }\r\n}\r\n\r\nPeople.hobby = [\"eat\",\"sleep\"]\r\n\r\n\r\nexport class Student extends People{\r\n    constructor(names,age,score){\r\n        super(names,age);  // super 当函数时 指向是父类的 构造器 \r\n        this.score = score;\r\n    }\r\n\r\n    goto(){\r\n\r\n    }\r\n\r\n    say(){\r\n        return super.say();   // super 当做对象时 指向的是父类的 原型对象 \r\n    }\r\n}\r\n\r\n\r\nStudent.hobby = [\"read\",\"music\"];\r\n\r\n\r\nexport class Component{\r\n    constructor(){\r\n\r\n    }\r\n\r\n    render(){\r\n\r\n    }\r\n\r\n    componentWillMount(){\r\n\r\n    }\r\n}\r\n\r\nexport class App extends Component{\r\n    \r\n}\r\n","\r\n\r\nimport axios from \"axios\";\r\nimport { Toast } from \"antd-mobile\"\r\nimport { history } from \"&\"\r\nconst baseURL = 'http://47.105.60.69:1000/'\r\nlet token = \"\";\r\naxios.defaults.baseURL = baseURL;\r\naxios.defaults.headers.common['token'] = token;   // req.headers.token \r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\n\r\n\r\nexport function loadingToast(msg, time) {\r\n    msg = msg || \"请求中...\";\r\n    time = time || 1;\r\n    Toast.hide();\r\n    Toast.loading(msg, time, () => {\r\n        console.log('Load complete !!!');\r\n    });\r\n}\r\n\r\nexport function fail(msg) {\r\n    Toast.hide();\r\n    Toast.fail(msg, 1);\r\n}\r\n\r\nexport function offline(msg) {\r\n    Toast.hide();\r\n    Toast.offline(msg, 1);\r\n}\r\n\r\nexport function success(msg) {\r\n    Toast.hide()\r\n    Toast.success(msg, 1);\r\n}\r\n// axios  拦截器  Interceptors\r\n// request 请求发送之前的拦截器\r\naxios.interceptors.request.use(function (config) {\r\n    // 配置动画\r\n    loadingToast();\r\n    token = sessionStorage.token ? sessionStorage.token : \"\";\r\n    config.headers['token'] = token;\r\n    return config;\r\n}, function (error) {\r\n    // 请求失败错误提示 \r\n    offline(\"请求失败-网络异常\");\r\n    return Promise.reject(error);\r\n});\r\n\r\n\r\n\r\n// response 响应 完成 的拦截器\r\naxios.interceptors.response.use(function (response) {\r\n\r\n    console.log(response)\r\n    if (response.data.code == \"3000\") {\r\n        // 跳转 登录 \r\n        history.push(\"/login\");\r\n    }\r\n    // type  不存在    success\r\n    // type = 0  fail\r\n    // type = 1  success \r\n    if (!!response.data.type) {\r\n        success(response.data.msg);\r\n    } else {\r\n        if (response.data.type == 0) {\r\n            fail(response.data.msg)\r\n        } else {\r\n            success(response.data.msg)\r\n        }\r\n    }\r\n\r\n\r\n    // 成功的响应\r\n    return response;\r\n}, function (error) {\r\n    // 失败的响应 \r\n    fail(\"响应失败-服务器异常\")\r\n    return Promise.reject(error);\r\n});\r\n\r\nexport { axios, baseURL }","import url from \"url\";\r\nimport { createHashHistory } from \"history\";\r\n\r\nexport { msg } from \"./msg\"\r\n\r\nexport { config } from \"./config\"\r\n\r\nexport const commonCss = {\r\n    all: {\r\n        margin: 0,\r\n        padding: 0\r\n    },\r\n    three: {\r\n        backgroundColor: \"pink\",\r\n        boxShadow: \"0 0 0 10px blue\"\r\n    }\r\n}\r\n\r\n\r\nexport const commonJS = {\r\n    move() {\r\n        console.log(\"这是 鼠标滑动事件\")\r\n    },\r\n    touch() {\r\n        console.log(\"this is touch event 触摸事件 \")\r\n    }\r\n}\r\n\r\n\r\nexport { axios, baseURL } from \"./axios\"\r\n\r\n\r\nexport function GetQuery(search) {\r\n\r\n    return url.parse(search, true).query;\r\n    // constructor(search){\r\n    //     this.search = search;\r\n    // }\r\n\r\n}\r\n\r\n\r\n\r\n// history = this.props.history \r\nexport const history = new createHashHistory();"],"sourceRoot":""}